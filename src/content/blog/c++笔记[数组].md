---
title: C++笔记[数组]
pubDate: 2020-11-23 23:46:47
tags:
  - 笔记
categories:
  - tech
description: C++数组的一些基础
image: https://images.weserv.nl/?url=s2.loli.net/2023/08/22/PeEwXBG36o81fYx.webp
---



## <!-- more -->数组的各种符号，摸清楚



------

### 起步

![](https://i.loli.net/2020/11/24/5hOA8Pt3DSMH7bf.png)

首先记住上图，[]表示数组取值运算符。地址可以“无限”加下去（有限的无限）

它们对应的代码是这样的：（main函数省略）

```c++
int a[] = { 1,2,3,6,7 };
	for (int i = 0; i < sizeof(a) / sizeof(int); i++)
	{
		cout << a[i] << ',';
	}
	cout << '\n' << "a表示" << a << endl;
	cout << "*a表示" << *a << endl;
	cout << "a[0]表示" << a[0] << endl;
	cout << "a[1]表示" << a[1] << endl;
	cout << "a+1表示" << a + 1 << endl;
	cout << "a+6表示" << a + 6 << endl;
	cout << "交换数组首尾" << endl;
```

### 交换函数

记住正常的交换函数，用指针从实质地指向值，与以前的区别在于，指针直接对应值，绕开了字母变量。也就是指针（十六进制地址）上有一个值（char,int,double等）

以下x,y是十六进制的地址，*x为指向的变量。

```c++
void swap(T* x, T* y) //交换指针指向的变量
{
	T t = *x;//t赋值为x指向的变量
	*x = *y;//将y的值赋给x
	*y = t;//y得到变量t的值
}
```

这里又想到取址符&，那这样一来，以前的"int a= 5;"中a与值，与指针，之间是什么关系？

1.T* a与T a平级，没有依赖关系，定义时，均可以不初始化，而且对应量都是随机的（十六进制数0xcccccccc[???]和随机的T类型内容（但为什么每次都是固定的一个数呢？））

2.两者指向同一对象时，用&联系起来。&普通变量=变量的地址。

明白以上两点，数组就好理解了。交换地址上的值，实际上是以指针形式表达变量（因为指针也是变量），并进行着类似以前"int t = a,a =b, b=t;"的操作。而此处具体可以表达为：

```
普通变量的值 = 指针1上的值

指针1上的值 = 指针2上的值

指针2上的值 = 普通变量的值
```

完成交换。

▲注意交换完后，原数组会变化！

因此最好使用以下函数进行备份

```c++
int backup(int a[],int p[])
{
    int n = sizeof(a)/sizeof(int);
    for(int i = 0;i<n;i++)
        p[i] = a[i];
    return 1;
}//未试过能否运行，思路是这个就差不多了，遍历复制。
```

------



## 探索函数与数组的激烈摩擦

### 数组在函数中的写法

就像指针在函数的参数位置，表达为T* m一样神奇，数组的首地址表达为T m[]

```c++
void sort_order(T m[],int size)//因为数组不能引用而只能用指针!!!
{
	int len = size / sizeof(T);
	for (int i = 1; i <= len; i++)
	{
		for (int j = i+1; j <= len; j++)
			if (m[i - 1] < m[j - 1])
				pin_swap(m + i - 1, m + j - 1);
	}
}
```

不要写T *m[]！！m[]本身就是个地址！如果这么干，你需要给它喂指针的地址（类型是T * *）

### 标识符

**标识符**是c++中由字母（A-Z，a-z）、数字（0-9）、下划线“_”组成，并且首字符不能是数字，但可以是字母或者下划线，例如"len = 10"中len就是标识符。**指针也是标识符**，指针有自己的地址。

下午使用选择排序函数+交换函数的顺序时，编译器最后一声轰鸣：“选择排序函数它找不到标识符”

查了下百度，当初我是不信的，后来把它们换了下顺序，程序duang的一下运行了，并且成功排序。

![](https://raw.githubusercontent.com/Makri-hub/WolpersHome.github.io/PicGo/%E8%B0%83%E5%92%8C%E5%9B%BE%E7%89%87.png)

啊，用html调节图片略难受，博文能够表达就少用图片吧。

这期间借鉴了：

[HTML——添加图像、设置图像属性_时光·漫步的博客-CSDN博客](https://blog.csdn.net/qq_41573234/article/details/80297995)

[Typora关于 插入图片 居中 靠左 靠右设置_zfx1101804091的博客-CSDN博客_typora 图片居中](https://blog.csdn.net/zfx1101804091/article/details/108749605)

来帮助设置图片。



### 字符数组

以下这段关于字符数组的连接，出现了严重的问题。

```c++
char* mystrcat(char* strDest, const char* strSrc)
{
	int n = strlen(strDest);
	for (int i = 0; strSrc[i] != '\0'; i++)
	{
		if (('A' <= strSrc[i] <= 'Z' )|| ('a' <= strSrc[i] <= 'z'))
		{
			*(strDest + n +i) = strSrc[i];
		}
	}
	return strDest;
}
```

问题一：在c++中不能使用类似a<=x<=b、a<x<b这样的判断语句，拿a<x<b为例，c++中大小、等、不等判断符的**结合性**均为从左往右，判别式的逻辑是：

a<x否？否，则化为0<b；是，化为1<b；

然后1<b否？否，则为0；是，化为1。此处不再做过多赘述。

问题二：指针的移动没有处理好（具体点说，是这个int i不好用）			

在这里应该设置两个指针（或者两个自增变量），一个i，在strDest上移动，一个j，在strSrc上移动；而这里仅有一个i，无论如何都会自增，导致strSrc上的位置错误，显示是乱码变了（一个乱码汉字变成另一个乱码汉字，因为汉字对应的编码变了，但笔者还没学汉字的编码，只能先搁着之后再回来补充）

### 指针和数组（待补）

如果有（main函数省略）

```c++
int a[20];
int* p  = a;
a[1] = 5;
```

这是常见的操作，那么：

```c++
if(p[1] ==a[1])
{
	cout << "p[1]表达意思与a[1]相同\n";
    cout<<"p[1]值为："<<p[1]<<"\na[1]值为："<<a[1];
}

else cout << "p[1]表达意思与a[1]不同";
```

大家猜猜输出的是哪个？

答案是第一个，相同，对应值是都是5。

为什么“指针名[n]”可以表示“数组名[n]”，首先我认为数组a本身是个指针

而这个认识，就是二维数组的基础

这里留个坑，留下一张图给大家细细品味，注意“类型”一栏。

![](https://s2.loli.net/2023/08/22/SPmX2HGk3Fetqrf.png)